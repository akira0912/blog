"use strict";(self.webpackChunkakira_blog=self.webpackChunkakira_blog||[]).push([["47"],{2912:function(e,n,i){i.r(n),i.d(n,{default:()=>d});var r=i(2676),s=i(453);function a(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",strong:"strong",img:"img",pre:"pre",code:"code"},(0,s.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"环境变量工程化",children:["环境变量工程化",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#环境变量工程化",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"前端的环境变量用的最多的大概就是根据不同的环境去打包，不用一个个修改ip。"}),"\n",(0,r.jsxs)(n.h2,{id:"antd-pro-umi的环境变量",children:[(0,r.jsx)(n.strong,{children:"antd pro umi的环境变量。"}),(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#antd-pro-umi的环境变量",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"创建一个UMI_ENV的环境变量，根据这个变量打包生产不同的dist文件，同时在浏览器标签上标注是测试环境还是开发环境。"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{src:"/./antd-design/663aead48f614b989839c0da05b61750~tplv-k3u1fbpfcp-jj-mark_3024_0_0_0_q75.webp",alt:"image.png"})," 创建三个config文件"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"import { defineConfig } from 'umi';\n\nexport default defineConfig({\n  define: {\n    API_URL: 'http://192.168.85.47:9900',\n    'process.env.UMI_ENV': process.env.UMI_ENV,\n  },\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.img,{src:"/./antd-design/093e39b4680d4cd683c63c0b24a87923~tplv-k3u1fbpfcp-jj-mark_3024_0_0_0_q75.webp",alt:"image.png"})," 创建三个config文件"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"ProLayout"}),"自定义",(0,r.jsx)(n.code,{children:"title"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"//自定义title\npageTitleRender: (_, __, info) => {\n    let title = '';\n    if (process.env.UMI_ENV === 'dev') {\n    title = '（开发环境）';\n    } else if (process.env.UMI_ENV === 'test') {\n    title = '（测试环境）';\n    }\n    return info?.title + title;\n},\n"})}),"\n",(0,r.jsx)(n.p,{children:"title变了"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/./antd-design/0ced1ce0c3114515af5aaa6358120223~tplv-k3u1fbpfcp-jj-mark_3024_0_0_0_q75.webp",alt:"image.png"})}),"\n",(0,r.jsxs)(n.h2,{id:"vue2项目的环境变量",children:[(0,r.jsx)(n.strong,{children:"vue2项目的环境变量"}),(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vue2项目的环境变量",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["也是在package.json对应命令里添加环境变量，然后添加对应的.env文件 VUE*APP_API_URL=",(0,r.jsx)(n.a,{href:"https://link.juejin.cn?target=http%3A%2F%2Fapi.example.com",title:"http://api.example.com",target:"_blank",rel:"noopener noreferrer",children:"api.example.com"})," （以\xa0",(0,r.jsx)(n.code,{children:"VUE_APP*"}),"\xa0开头的变量会被Vue CLI自动注入到应用程序的\xa0",(0,r.jsx)(n.code,{children:"process.env"}),"\xa0中，在Vue组件或代码中，可以通过\xa0",(0,r.jsx)(n.code,{children:"process.env.VUE_APP_API_URL"}),"\xa0访问这个环境变量的值。）"]}),"\n",(0,r.jsx)(n.p,{children:"还是直接看vuecli的官方文档更有性价比……"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/./antd-design/e5610013b35b4db58f540304067759b3~tplv-k3u1fbpfcp-jj-mark_3024_0_0_0_q75.webp",alt:"image.png"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"/./antd-design/3676774d05404ff687adf938f234aa2c~tplv-k3u1fbpfcp-jj-mark_3024_0_0_0_q75.webp",alt:"image.png"})})]})}function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}let d=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["antd-design%2F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%B7%A5%E7%A8%8B%E5%8C%96.md"]={toc:[{text:"**antd pro umi的环境变量。**",id:"antd-pro-umi的环境变量",depth:2},{text:"**vue2项目的环境变量**",id:"vue2项目的环境变量",depth:2}],title:"环境变量工程化",headingTitle:"环境变量工程化",frontmatter:{}}}}]);